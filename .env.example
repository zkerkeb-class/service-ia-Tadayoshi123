# =============================================================================
# ü§ñ SERVICE IA SUPERVIA - CONFIGURATION D'EXEMPLE
# =============================================================================
# Ce fichier sert de mod√®le pour votre propre fichier .env.
# Copiez ce fichier en .env et remplacez les valeurs ci-dessous.
# NE JAMAIS COMMITER VOTRE FICHIER .env DANS LE D√âP√îT GIT.
# =============================================================================

# =============================================
# üì° CONFIGURATION SERVEUR
# =============================================
NODE_ENV=development
PORT=3004
LOG_LEVEL=info # 'fatal', 'error', 'warn', 'info', 'debug', 'trace'

# =============================================
# üß† CONFIGURATION OPENAI
# =============================================
# Votre cl√© d'API OpenAI. Gardez-la secr√®te.
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Mod√®le √† utiliser. 'gpt-4o-mini' est un bon √©quilibre performance/co√ªt.
OPENAI_MODEL=gpt-4o-mini

# Contr√¥le la cr√©ativit√©. 0.2 pour des r√©ponses factuelles, 0.8 pour plus de cr√©ativit√©.
OPENAI_TEMPERATURE=0.3

# =============================================
# üíæ CONFIGURATION REDIS (POUR LE CACHE)
# =============================================
# H√¥te du serveur Redis. 'supervia-redis' si vous utilisez le docker-compose global.
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# Base de donn√©es Redis √† utiliser pour ce service (√©vite les collisions de cl√©s).
REDIS_DB=2
# Activer ou d√©sactiver le cache Redis. 'true' est recommand√© en production.
USE_CACHE=true

# Dur√©es de vie (TTL en secondes) pour les diff√©rents types de cache.
CACHE_TTL_DEFAULT=3600       # 1 heure
CACHE_TTL_DASHBOARD=7200     # 2 heures
CACHE_TTL_OPS_ASSISTANT=1800 # 30 minutes

# =============================================
# üîë S√âCURIT√â & AUTHENTIFICATION
# =============================================
# SECRET JWT PARTAG√â - CRITIQUE
# Ce secret DOIT √™tre identique sur TOUS les microservices de l'√©cosyst√®me.
# Il est utilis√© pour la communication inter-services, pas pour la validation des tokens utilisateur (qui se fait via JWKS).
JWT_SECRET=votre_secret_jwt_partage_long_et_aleatoire_ici

# =============================================
# üåê URLS & CORS
# =============================================
# URL du frontend pour la configuration CORS.
FRONTEND_URL=http://localhost:3000

# =============================================
# üîó URLS DES AUTRES SERVICES
# =============================================
# URLs pour la communication inter-services.
# Utilisez les noms de service Docker lorsque vous ex√©cutez dans l'environnement Docker.
AUTH_SERVICE_URL=http://supervia-auth-service:3001
METRICS_SERVICE_URL=http://supervia-metrics-service:3003
NOTIFICATION_SERVICE_URL=http://supervia-notification-service:3005

# =============================================
# üö¶ CONFIGURATION RATE LIMITING
# =============================================
# Fen√™tre de temps en millisecondes pour la limitation de requ√™tes.
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
# Nombre maximum de requ√™tes autoris√©es par IP dans la fen√™tre de temps.
RATE_LIMIT_MAX_REQUESTS=100

# =============================================
# ü©∫ CONFIGURATION SANT√â & M√âTRIQUES
# =============================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000 